<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title id="dynamic-title">Gestión de Archivos - Admin</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Bootstrap Icons y Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
  />

  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- ======================================================= -->
  <!-- NAV BAR -->
  <!-- ======================================================= -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm fixed-top">
    <div class="container-xl px-4">
      <a class="navbar-brand fs-4 fw-bold" href="index.html">
        <img src="imagen/logo.png" alt="Logo de Omar" style="height: 40px;">
      </a>

      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0 fw-medium">
          <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="portafolio.html">Portafolio</a></li>
          <li class="nav-item"><a class="nav-link" href="sobremi.html">Perfil</a></li>
          <li class="nav-item"><a class="nav-link" href="contacto.html">Contacto</a></li>
        </ul>

        <div class="d-flex align-items-center ms-lg-3">
          <!-- Botón "Asignar Roles" -->
          <a href="asignar_roles.html"
            class="btn btn-primary rounded-pill px-4 py-2 me-3 fw-medium">
            <i class="bi bi-person-gear"></i> Asignar Roles
          </a>

          <!-- Badge de Rol -->
          <span class="badge bg-primary me-3 py-2 px-3 fw-normal rounded-pill">
            Rol:
            <span id="role-display" class="fw-bold ms-1">...</span>
          </span>

          <!-- Botón "Cerrar sesión" -->
          <button
            id="logout-btn"
            class="btn btn-danger rounded-pill px-4 py-2 fw-medium">
            Cerrar sesión
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- ======================================================= -->
  <!-- CONTENIDO PRINCIPAL -->
  <!-- ======================================================= -->
  <div id="main-content" class="py-5 px-3 min-vh-100">
    <div class="container-xl">
      <h1 class="page-title display-5 fw-bold mb-5 text-center">
        <i class="fas fa-folder me-2"></i> Gestión de Archivos
        <span class="text-white">(Admin)</span>
      </h1>

      <!-- BLOQUE SUPERIOR: SUBIR ARCHIVO -->
      <div class="admin-controls mb-4">
        <h4 class="text-white mb-3">
          <i class="fas fa-upload me-2 text-primary"></i> Subir Archivo
        </h4>

        <form id="upload-form">
          <p class="mb-3 small text-secondary">
            Selecciona el curso/semana de destino y el archivo a subir.
          </p>

          <div class="row g-3 mb-4">
            <div class="col-md-6">
              <label for="filter-curso-select" class="form-label fw-semibold mb-1">
                Curso
              </label>
              <select id="filter-curso-select" class="form-select select-dark rounded-3">
                <option value="">Seleccione Curso</option>
                <option>Arquitectura de Software</option>
                <option>Machine Learning</option>
                <option>Inglés</option>
              </select>
            </div>

            <div class="col-md-6">
              <label for="filter-semana-select" class="form-label fw-semibold mb-1">
                Semana
              </label>
              <select id="filter-semana-select" class="form-select select-dark rounded-3">
                <option value="">Seleccione Semana</option>
                <option>Semana 1</option>
                <option>Semana 2</option>
                <option>Semana 3</option>
                <option>Semana 4</option>
                <option>Semana 5</option>
                <option>Semana 6</option>
                <option>Semana 7</option>
                <option>Semana 8</option>
              </select>
            </div>
          </div>

          <div class="mb-4">
            <label for="file-input" class="form-label fw-semibold mb-1">
              Archivo a Subir
            </label>
            <input
              type="file"
              id="file-input"
              name="documento"
              class="form-control input-dark rounded-3"
              required
            />
          </div>

          <button
            type="submit"
            id="upload-btn"
            class="btn btn-primary w-100 py-2 rounded-pill fw-semibold fs-5">
            <i class="fas fa-cloud-upload-alt me-2"></i> Subir Archivo
          </button>

          <p id="file-status" class="mt-3 text-center small fw-bold text-warning d-none"></p>
        </form>
      </div>

      <!-- BLOQUE INFERIOR: LISTADO DE ARCHIVOS -->
      <div class="user-list-card">
        <div class="p-4 border-bottom">
          <h4 class="text-white mb-0">
            <i class="fas fa-list-alt me-2 text-success"></i> Listado de Archivos
          </h4>
          <span id="filter-status" class="badge bg-secondary mt-2 d-none"></span>
        </div>

        <div class="table-responsive">
          <table class="table table-striped table-hover align-middle mb-0">
            <thead>
              <tr>
                <th
                  scope="col"
                  class="py-3 px-4 text-uppercase small text-muted"
                  style="width: 25%;">
                  Archivo
                </th>
                <th
                  scope="col"
                  class="py-3 px-4 text-uppercase small text-muted"
                  style="width: 25%;">
                  Curso / Semana
                </th>
                <th
                  scope="col"
                  class="py-3 px-4 text-uppercase small text-muted text-center"
                  style="width: 50%;">
                  Acciones
                </th>
              </tr>
            </thead>

            <tbody id="file-list-body">
              <tr>
                <td class="px-4">Documento de Prueba.pdf</td>
                <td class="px-4">Arquitectura de Software / Semana 5</td>
                <td class="px-4 text-center">
                    <div class="action-buttons">
                        <button class="btn btn-sm btn-action-view" title="Ver">
                        <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-action-download" title="Descargar">
                        <i class="fas fa-download"></i>
                        </button>
                        <button class="btn btn-sm btn-action-edit" title="Renombrar">
                        <i class="fas fa-pen"></i>
                        </button>
                        <button class="btn btn-sm btn-action-delete" title="Eliminar">
                        <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL DE VISTA PREVIA -->
  <div
    class="modal fade"
    id="previewModal"
    tabindex="-1"
    aria-labelledby="previewModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content rounded-4 shadow-lg" style="height: 90vh;">
        <div class="modal-header bg-light border-bottom d-flex justify-content-between align-items-center">
          <h5 class="modal-title text-dark" id="previewModalLabel">
            Vista Previa -
            <span id="preview-filename" class="fw-normal"></span>
          </h5>
          <div class="d-flex align-items-center">
            <a
              id="preview-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              class="small text-decoration-underline text-muted me-3">
              Abrir en nueva pestaña
            </a>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"></button>
          </div>
        </div>

        <div class="modal-body p-0 d-flex justify-content-center align-items-center modal-body-content">
          <div id="preview-content" class="w-100 h-100"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Script principal -->
  <script type="module" src="file2.js"></script>
</body>
</html>
